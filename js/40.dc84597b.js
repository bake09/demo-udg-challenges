"use strict";(self["webpackChunkudg"]=self["webpackChunkudg"]||[]).push([[40],{3040:(e,t,o)=>{o.r(t),o.d(t,{default:()=>H});o(71);var l=o(3673),a=o(2323),i=o(8880);const s=(0,l._)("div",{class:"text-h4 text-center text-pacifico text-primary"},"Meme Generator",-1),n={class:"row flex col justify-center"},r={class:"col-md-6"},m={class:"q-px-md canvascontainer"},c={ref:"canvas",class:"mycanvas shadow-2",style:{border:"5px dashed gray"}},d={class:"flex col column q-gutter-y-md q-px-md col-sm-10 col-md-6 col-12"},p={class:"row"},u={class:"row"},x={class:"col-7"},h={class:"col-5 q-pl-xs"},b={class:"row justify-between q-pt-xs"},T={class:"row"},f={class:"col-7"},S={class:"col-5 q-pl-xs"},g={class:"row justify-between q-pt-xs"};function w(e,t,o,w,y,v){const k=(0,l.up)("q-card-section"),_=(0,l.up)("q-btn"),F=(0,l.up)("q-input"),C=(0,l.up)("q-slider"),W=(0,l.up)("q-item-label"),q=(0,l.up)("q-item-section"),U=(0,l.up)("q-item"),V=(0,l.up)("q-select"),Z=(0,l.up)("q-toggle"),$=(0,l.up)("q-color"),z=(0,l.up)("q-menu"),D=(0,l.up)("q-separator"),Q=(0,l.up)("q-fab-action"),I=(0,l.up)("q-fab"),L=(0,l.up)("q-page-sticky"),M=(0,l.up)("q-card"),j=(0,l.up)("q-page"),G=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(j,{class:"q-pa-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(M,{class:(0,a.C_)(e.$q.screen.gt.md?"fullHeightBig":"fullHeightSmall")},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(k,{class:"my-q-card"},{default:(0,l.w5)((()=>[s])),_:1},512),[[i.F8,e.$q.screen.gt.xs]]),(0,l.Wm)(k,{class:"q-pt-none my-q-card"},{default:(0,l.w5)((()=>[(0,l._)("div",n,[(0,l._)("div",r,[(0,l._)("div",m,[(0,l._)("canvas",c,null,512)])]),(0,l._)("div",d,[(0,l._)("div",p,[(0,l.Wm)(_,{label:e.fileName?e.fileName:"Bild hochladen",icon:"upload","no-caps":"",style:{cursor:"pointer"},color:"accent"},{default:(0,l.w5)((()=>[(0,l._)("input",{title:"",type:"file",ref:"fileInput",onInput:t[0]||(t[0]=(...t)=>e.onSelectFile&&e.onSelectFile(...t)),style:{opacity:"0",position:"absolute",width:"100%",height:"100%",cursor:"pointer !important"},accept:".png, .jpg, .jpeg"},null,544)])),_:1},8,["label"])]),(0,l._)("div",u,[(0,l._)("div",x,[(0,l.Wm)(F,{modelValue:e.topText,"onUpdate:modelValue":t[1]||(t[1]=t=>e.topText=t),class:"textarea q-mt-none",label:"Text oben",ref:"topTextRef",rows:"3",type:"textarea",dense:"",outlined:""},null,8,["modelValue"]),(0,l.Wm)(C,{modelValue:e.topTextSelectedFontSize,"onUpdate:modelValue":t[2]||(t[2]=t=>e.topTextSelectedFontSize=t),color:"primary","inner-min":6,"inner-max":10,step:1,markers:"","marker-labels":e.topTextFontSizes,label:"","label-value":"Textgröße","switch-label-side":"","switch-marker-labels-side":"",min:6,max:10},null,8,["modelValue","marker-labels"])]),(0,l._)("div",h,[(0,l.Wm)(V,{dense:"",filled:"",modelValue:e.topTextSelectedFont,"onUpdate:modelValue":t[3]||(t[3]=t=>e.topTextSelectedFont=t),options:e.topTextFonts,label:"Textart",style:{"min-width":"130px"}},{option:(0,l.w5)((e=>[(0,l.Wm)(U,(0,a.vs)((0,l.F4)(e.itemProps)),{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l._)("span",{style:(0,a.j5)(`font-family: ${e.opt}`)},(0,a.zw)(e.opt),5)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options"]),(0,l._)("div",b,[(0,l.Wm)(Z,{dense:"",modelValue:e.topTextUppercase,"onUpdate:modelValue":t[4]||(t[4]=t=>e.topTextUppercase=t),label:e.topTextUppercase?"GROSS":"klein"},null,8,["modelValue","label"]),(0,l.Wm)(_,{dense:"",style:(0,a.j5)(`background-color: ${e.topTextSelectedColor}`),"text-color":e.topTextDarker?"white":"black",icon:"colorize",label:"","no-caps":""},{default:(0,l.w5)((()=>[(0,l.Wm)(z,{refs:"colorMenu"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)($,{modelValue:e.topTextSelectedColor,"onUpdate:modelValue":t[5]||(t[5]=t=>e.topTextSelectedColor=t),class:"my-picker","no-header":"","no-footer":""},null,8,["modelValue"]),[[G]])])),_:1})])),_:1},8,["style","text-color"])])])]),(0,l.Wm)(D),(0,l._)("div",T,[(0,l._)("div",f,[(0,l.Wm)(F,{modelValue:e.bottomText,"onUpdate:modelValue":t[6]||(t[6]=t=>e.bottomText=t),class:"textarea q-mt-none",label:"Text unten (max. 3 Zeilen)",rows:"3",type:"textarea",dense:"",outlined:""},null,8,["modelValue"]),(0,l.Wm)(C,{modelValue:e.bottomTextSelectedFontSize,"onUpdate:modelValue":t[7]||(t[7]=t=>e.bottomTextSelectedFontSize=t),color:"primary","inner-min":6,"inner-max":10,step:1,markers:"","marker-labels":e.bottomTextFontSizes,label:"","label-value":"Textgröße","switch-label-side":"","switch-marker-labels-side":"",min:6,max:10},null,8,["modelValue","marker-labels"])]),(0,l._)("div",S,[(0,l.Wm)(V,{dense:"",filled:"",modelValue:e.bottomTextSelectedFont,"onUpdate:modelValue":t[8]||(t[8]=t=>e.bottomTextSelectedFont=t),options:e.bottomTextFonts,label:"Textart",style:{"min-width":"130px"}},{option:(0,l.w5)((e=>[(0,l.Wm)(U,(0,a.vs)((0,l.F4)(e.itemProps)),{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l._)("span",{style:(0,a.j5)(`font-family: ${e.opt}`)},(0,a.zw)(e.opt),5)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options"]),(0,l._)("div",g,[(0,l.Wm)(Z,{dense:"",modelValue:e.bottomTextUppercase,"onUpdate:modelValue":t[9]||(t[9]=t=>e.bottomTextUppercase=t),label:e.bottomTextUppercase?"GROSS":"klein"},null,8,["modelValue","label"]),(0,l.Wm)(_,{dense:"",style:(0,a.j5)(`background-color: ${e.bottomTextSelectedColor}`),"text-color":e.bottomTextDarker?"white":"black",icon:"colorize",label:"","no-caps":""},{default:(0,l.w5)((()=>[(0,l.Wm)(z,{refs:"colorMenu"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)($,{modelValue:e.bottomTextSelectedColor,"onUpdate:modelValue":t[10]||(t[10]=t=>e.bottomTextSelectedColor=t),class:"my-picker","no-header":"","no-footer":""},null,8,["modelValue"]),[[G]])])),_:1})])),_:1},8,["style","text-color"])])])])])])])),_:1}),(0,l.Wm)(L,{position:"bottom-right",offset:[18,18]},{default:(0,l.w5)((()=>[(0,l.Wm)(I,{color:"indigo-8",icon:"save",direction:"up","vertical-actions-align":"center"},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{"label-position":"right",color:"primary",onClick:t[11]||(t[11]=t=>e.shareOrSaveAsImage("jpg")),icon:"image",label:".jpg"}),(0,l.Wm)(Q,{"label-position":"right",color:"primary",onClick:t[12]||(t[12]=t=>e.shareOrSaveAsImage("png")),icon:"image",label:".png"}),(0,l.Wm)(Q,{"label-position":"right",color:"primary",onClick:t[13]||(t[13]=t=>e.shareOrSaveAsImage("gif")),icon:"image",label:".gif"})])),_:1})])),_:1})])),_:1},8,["class"])])),_:1})}o(7965),o(6016),o(5363);var y=o(2156),v=o(1082);const k=(0,l.aZ)({name:"PageMemeGenerator",data(){return{isCustomImageSelected:!1,image:null,imageData:null,fileName:"",canvas:null,ctx:null,topText:"",topTextbyLines:[],topTextSectionOffset:null,topTextSelectedColor:"#00fff7",topTextDarker:!1,topTextFonts:["Arial","Comic Sans","Pacifico"],topTextSelectedFont:"Pacifico",topTextUppercase:!1,topTextSelectedFontSize:7,topTextFontSizes:[{value:6,label:"xs"},{value:7,label:"sm"},{value:8,label:"md"},{value:9,label:"lg"},{value:10,label:"xl"}],topTextGeneratedStrokeColor:"black",bottomText:"",bottomTextbyLines:[],bottomTextSectionOffset:null,bottomTextSelectedColor:"#ff00ea",bottomTextDarker:!0,bottomTextFonts:["Arial","Comic Sans","Pacifico"],bottomTextSelectedFont:"Arial",bottomTextUppercase:!0,bottomTextSelectedFontSize:8,bottomTextFontSizes:[{value:6,label:"xs"},{value:7,label:"sm"},{value:8,label:"md"},{value:9,label:"lg"},{value:10,label:"xl"}],bottomTextGeneratedStrokeColor:"white",bottomTextYoffset:8}},watch:{topTextSelectedColor(){this.updateTop(),this.updateText()},topTextSelectedFont(){this.updateText()},topTextSelectedFontSize(){this.updateText()},bottomTextSelectedColor(){this.updateBottom(),this.updateText()},bottomTextSelectedFont(){this.updateText()},bottomTextSelectedFontSize(){this.updateText()},topText(){this.topTextbyLines=this.topText.split(/\r?\n/)},topTextbyLines(){this.updateText()},topTextUppercase(){this.updateText()},bottomTextUppercase(){this.updateText()},bottomText(){this.bottomTextbyLines=this.bottomText.split(/\r?\n/)},bottomTextbyLines(){1==this.bottomTextbyLines.length&&(this.bottomTextYoffset=8),2==this.bottomTextbyLines.length&&(this.bottomTextYoffset=4.2),3==this.bottomTextbyLines.length&&(this.bottomTextYoffset=2.8),this.updateText()}},mounted(){this.initialFile(),this.canvas=this.$refs.canvas,this.ctx=this.canvas.getContext("2d"),setTimeout((()=>{this.$refs.topTextRef.focus()}),30)},methods:{async initialFile(){let e=null;await fetch("img/initMeme.png").then((e=>e.blob())).then((t=>{e=t})),this.imageData=URL.createObjectURL(e),this.renderImage(this.$refs.canvas,this.imageData),setTimeout((()=>{this.topText="Es gibt immer\nzwei Meinungen",this.bottomText="Meine und die Falsche!"}),30)},onSelectFile(){const e=this.$refs.fileInput,t=e.files[0];console.log("files :>> ",t),this.fileName=t.name,this.imageData=URL.createObjectURL(t),this.renderImage(this.$refs.canvas,this.imageData)},renderImage(e,t){const o=this.ctx;e.width=1920,e.height=1080;const l=new Image;l.onload=t=>{let a=e.width,i=l.naturalWidth,s=l.naturalHeight,n=i/s,r=a/n;e.height=r,o.drawImage(l,0,0,a,r),this.updateText()},l.src=t,this.image=l},updateText(){const e=this.ctx,t=this.canvas.width,o=this.canvas.height,l=Math.floor(o*`${this.topTextSelectedFontSize}`/80),a=Math.floor(o*`${this.bottomTextSelectedFontSize}`/80);let i=o/20,s=o/this.bottomTextYoffset;e.drawImage(this.image,0,0,this.canvas.width,this.canvas.height),this.topTextbyLines.forEach((o=>{o=this.topTextUppercase?o.toUpperCase():o,e.strokeStyle=this.topTextGeneratedStrokeColor,e.lineWidth=Math.floor(l/8),e.fillStyle=this.topTextSelectedColor,e.textAlign="center",e.lineJoin="round",e.font=`${l}px ${this.topTextSelectedFont}`,e.textBaseline="top",e.strokeText(o,t/2,i),e.fillText(o,t/2,i),i+=1.2*l})),this.bottomTextbyLines.forEach((l=>{l=this.bottomTextUppercase?l.toUpperCase():l,e.strokeStyle=this.bottomTextGeneratedStrokeColor,e.lineWidth=Math.floor(a/8),e.fillStyle=this.bottomTextSelectedColor,e.textAlign="center",e.lineJoin="round",e.font=`${a}px ${this.bottomTextSelectedFont}`,e.textBaseline="top",e.strokeText(l,t/2,o-s),e.fillText(l,t/2,o-s),s-=1.2*a}))},updateTop(){y.ZP.luminosity(this.topTextSelectedColor)>=.4?(this.topTextDarker=!1,this.topTextGeneratedStrokeColor="black"):(this.topTextDarker=!0,this.topTextGeneratedStrokeColor="white")},updateBottom(){y.ZP.luminosity(this.bottomTextSelectedColor)>=.4?(this.bottomTextDarker=!1,this.bottomTextGeneratedStrokeColor="black"):(this.bottomTextDarker=!0,this.bottomTextGeneratedStrokeColor="white")},shareOrSaveAsImage(e){let t=Date.now(),o=v.ZP.formatDate(t,"DD_MM_YYYY_HH_mm_ss"),l=`UDG_Meme_${o}`;const a=document.createElement("a");a.setAttribute("download",`${l}.${e}`),a.setAttribute("href",this.canvas.toDataURL(`image/${e}`).replace(`image/${e}`,"image/octet-stream")),a.click()}}});var _=o(4260),F=o(4379),C=o(151),W=o(5589),q=o(8240),U=o(4842),V=o(2064),Z=o(3017),$=o(3414),z=o(2035),D=o(2350),Q=o(8886),I=o(6335),L=o(5867),M=o(5869),j=o(1007),G=o(9200),A=o(9975),P=o(6115),O=o(677),R=o(7518),Y=o.n(R);const B=(0,_.Z)(k,[["render",w]]),H=B;Y()(k,"components",{QPage:F.Z,QCard:C.Z,QCardSection:W.Z,QBtn:q.Z,QInput:U.Z,QSlider:V.Z,QSelect:Z.Z,QItem:$.Z,QItemSection:z.Z,QItemLabel:D.Z,QToggle:Q.Z,QMenu:I.Z,QColor:L.Z,QSeparator:M.Z,QPageSticky:j.Z,QFab:G.Z,QFabAction:A.Z,QField:P.Z}),Y()(k,"directives",{ClosePopup:O.Z})}}]);